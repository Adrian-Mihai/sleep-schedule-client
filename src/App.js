import {
  createContainer,
  VictoryAxis,
  VictoryChart, VictoryGroup, VictoryLabel,
  VictoryLine, VictoryScatter,
  VictoryTheme
} from "victory";
import {Col, Container, Nav, Navbar, Row} from "react-bootstrap";

function App() {
  const data = [
    [14871.03, 44],
    [17826.119, 56],
    [17873.963, 57],
    [18466.749, 63],
    [18482.766, 57],
    [19115.473, 45],
    [19245.751, 62],
    [19273.78, 42],
    [19389.749, 56],
    [19426.185, 61],
    [19494.521, 60],
    [19552.275, 50],
    [19784.614, 53],
    [19826.071, 57],
    [20112.786, 55],
    [20133.747, 59],
    [20152.691, 62],
    [20348.654, 56],
    [20534.668, 62],
    [20612.714, 58],
    [20676.828, 64],
    [20700.221, 63],
    [20741.434, 63],
    [20842.742, 64],
    [20893.009, 59],
    [20945.424, 65],
    [20955.008, 56],
    [20984.723, 55],
    [21099.87, 66],
    [21117.225, 66],
    [21228.224, 66],
    [21290.805, 68],
    [21325.4, 47],
    [21377.926, 67],
    [21451.045, 62],
    [21453.958, 72],
    [21486.164, 60],
    [21720.056, 62],
    [21823.56, 70],
    [21840.69, 64],
    [21843.992, 59],
    [21845.317, 59],
    [21927.624, 68],
    [21938.93, 69],
    [21961.971, 68],
    [22003.455, 59],
    [22035.224, 70],
    [22084.325, 67],
    [22091.877, 63],
    [22158.441, 72],
    [22161.943, 79],
    [22205.374, 63],
    [22220.265, 63],
    [22223.506, 65],
    [22362.726, 66],
    [22449.232, 67],
    [22499.154, 65],
    [22556.351, 70],
    [22558.008, 59],
    [22570.004, 70],
    [22570.095, 70],
    [22585.118, 35],
    [22605.045, 50],
    [22609.941, 70],
    [22720.523, 66],
    [22750.229, 65],
    [22824.856, 67],
    [22904.158, 72],
    [22906.527, 68],
    [22930.281, 70],
    [22997.117, 68],
    [23000.17, 69],
    [23023.278, 70],
    [23090.952, 69],
    [23120.542, 69],
    [23147.199, 67],
    [23163.042, 61],
    [23199.669, 69],
    [23270.036, 58],
    [23272.31, 73],
    [23282.732, 62],
    [23331.667, 56],
    [23346.531, 67],
    [23348.191, 72],
    [23361.317, 67],
    [23382.623, 73],
    [23401.287, 68],
    [23438.774, 66],
    [23440.645, 70],
    [23448.623, 72],
    [23484.109, 73],
    [23485.856, 79],
    [23527.815, 70],
    [23530.057, 74],
    [23558.239, 75],
    [23580.094, 73],
    [23587.484, 67],
    [23591.338, 74],
    [23633.104, 78],
    [23639.427, 70],
    [23640.428, 66],
    [23659.119, 69],
    [23728.834, 62],
    [23733.99, 61],
    [23756.631, 62],
    [23769.297, 72],
    [23787.628, 72],
    [23791.776, 71],
    [23799.765, 56],
    [23816.0, 72],
    [23868.29, 74],
    [23887.407, 75],
    [23894.513, 74],
    [23900.899, 76],
    [23940.348, 67],
    [23979.118, 72],
    [24033.212, 74],
    [24040.839, 73],
    [24048.478, 68],
    [24050.936, 76],
    [24057.844, 73],
    [24064.875, 76],
    [24101.729, 72],
    [24162.392, 65],
    [24211.517, 69],
    [24236.298, 80],
    [24253.431, 70],
    [24265.024, 66],
    [24325.041, 64],
    [24349.775, 72],
    [24406.281, 62],
    [24440.427, 79],
    [24460.248, 70],
    [24523.133, 79],
    [24597.323, 59],
    [24621.315, 67],
    [24682.258, 78],
    [24764.776, 80],
    [24793.559, 72],
    [24821.114, 77],
    [24822.248, 78],
    [24823.013, 79],
    [24829.025, 78],
    [24830.484, 51],
    [24834.712, 58],
    [24842.596, 79],
    [24847.946, 67],
    [24875.405, 71],
    [24876.615, 75],
    [24888.299, 80],
    [24888.472, 55],
    [24897.26, 72],
    [24897.514, 57],
    [24899.15, 70],
    [24899.331, 69],
    [24904.298, 77],
    [24908.41, 69],
    [24939.393, 75],
    [24941.141, 80],
    [24942.23, 82],
    [25009.718, 77],
    [25018.536, 72],
    [25061.054, 73],
    [25064.48, 74],
    [25078.144, 77],
    [25112.54, 66],
    [25134.887, 68],
    [25136.873, 72],
    [25140.855, 80],
    [25141.598, 72],
    [25181.306, 75],
    [25204.275, 80],
    [25212.197, 74],
    [25218.554, 70],
    [25245.999, 82],
    [25253.198, 69],
    [25279.739, 67],
    [25301.541, 76],
    [25333.064, 81],
    [25338.726, 80],
    [25347.73, 81],
    [25373.276, 72],
    [25380.034, 73],
    [25413.048, 75],
    [25427.504, 78],
    [25477.655, 75],
    [25478.682, 68],
    [25486.182, 79],
    [25514.371, 79],
    [25515.855, 73],
    [25553.501, 77],
    [25595.319, 80],
    [25600.678, 76],
    [25635.339, 76],
    [25686.566, 78],
    [25713.393, 72],
    [25715.878, 78],
    [25729.958, 80],
    [25732.43, 77],
    [25739.05, 74],
    [25764.546, 79],
    [25785.504, 73],
    [25804.55, 79],
    [25824.361, 79],
    [25832.788, 75],
    [25848.619, 51],
    [25880.103, 66],
    [25891.031, 74],
    [25909.014, 85],
    [25926.675, 81],
    [25952.179, 74],
    [25993.668, 69],
    [26016.558, 81],
    [26024.834, 73],
    [26108.664, 31],
    [26173.3, 73],
    [26173.559, 67],
    [26176.474, 78],
    [26181.858, 75],
    [26184.117, 84],
    [26282.329, 70],
    [26436.144, 79],
    [26465.871, 82],
    [26498.306, 81],
    [26515.553, 82],
    [26553.347, 52],
    [26560.441, 75],
    [26571.216, 72],
    [26625.333, 69],
    [26676.392, 60],
    [26707.679, 72],
    [26771.117, 73],
    [26785.187, 71],
    [27007.228, 80],
    [27011.733, 84],
    [27024.264, 82],
    [27055.591, 75],
    [27092.396, 86],
    [27145.595, 80],
    [27168.411, 85],
    [27185.136, 79],
    [27344.871, 84],
    [27404.776, 81],
    [27497.996, 79],
    [27519.628, 85],
    [27540.634, 85],
    [27549.019, 82],
    [27579.97, 68],
    [27626.947, 85],
    [27643.415, 79],
    [27655.653, 83],
    [27698.413, 76],
    [27715.218, 36],
    [27721.25, 83],
    [27730.798, 77],
    [27745.669, 77],
    [28092.693, 86],
    [28095.682, 81],
    [28226.088, 87],
    [28268.334, 84],
    [28439.289, 80],
    [28483.656, 73],
    [28647.062, 80],
    [28660.735, 85],
    [28724.248, 85],
    [28839.919, 84],
    [29256.94, 84],
    [30323.258, 95],
    [30481.625, 90],
    [30506.81, 94],
    [30772.009, 90],
    [31460.082, 96],
    [34624.59, 100],
  ]
  const VictoryZoomVoronoiContainer = createContainer("zoom", "voronoi");
  
  return (
    <div>
      <Navbar bg="dark" variant="dark">
        <Container fluid>
          <Navbar.Brand>Sleep Schedule</Navbar.Brand>
          <Nav className="me-auto">
            <Nav.Link href="#home">Home</Nav.Link>
          </Nav>
        </Container>
      </Navbar>
      <Container fluid>
        <Row>
          <Col>
            <VictoryChart
              width={800}
              height={250}
              theme={VictoryTheme.material}
              containerComponent={
                <VictoryZoomVoronoiContainer
                  voronoiBlacklist={["line"]}
                  labels={({ datum }) => `${datum.y}%`}
                />
              }
            >
              <VictoryGroup
                data={data.map(array => ({ x: array[0], y: array[1]}))}
                colorScale={"qualitative"}
              >
                <VictoryLine name="line"/>
                <VictoryScatter/>
              </VictoryGroup>
              <VictoryAxis
                dependentAxis
                tickFormat={(tick) => `${tick}%`}
                tickLabelComponent={<VictoryLabel dx={7}/>}
                axisLabelComponent={<VictoryLabel dy={-27} />}
                label="Sleep Quality"
              />
              <VictoryAxis
                tickFormat={(tick) => `${Math.floor(tick / 3600)}h ${Math.floor((tick % 3600) / 60)}m` }
                tickLabelComponent={<VictoryLabel dy={-8}/>}
                axisLabelComponent={<VictoryLabel dy={12} />}
                label="Hours in bed"
              />
            </VictoryChart>
          </Col>
        </Row>
      </Container>
    </div>
  );
}

export default App;
